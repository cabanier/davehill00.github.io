<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
			canvas { display: block; }
		</style>
	</head>
	<body>
        <script src="https://github.com/davehill00/davehill00.github.io/blob/master/js/three.js"></script>
        <script src="https://github.com/davehill00/davehill00.github.io/blob/master/js/vr-button.js"></script>
        <script src="https://mrdoob.github.io/stats.js/build/stats.min.js"></script>
		<script>

			const scene = new THREE.Scene();
			const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

			const renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
            renderer.xr.enabled = true;

			document.body.appendChild( renderer.domElement );

            document.body.appendChild( VRButton.createButton( renderer ) );




			const geometry = new THREE.BoxGeometry();
			//const material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
            const material = new THREE.MeshPhysicalMaterial( {color: 0xff40ff });

//			const cube = new THREE.Mesh( geometry, material );
//			scene.add( cube );
            let i;
            for (i = 0; i < 1200; i++)
            {
                let cube = new THREE.Mesh( geometry, material );
                let row = i % 10;
                let col = Math.floor(i / 10);
                cube.position.set( -10 + row * 2.0, col * 2.0, -50.0);
                cube.rotation.x = 0.707;
                cube.rotation.y = 0.707;
                scene.add( cube );
            }

            const directionalLight = new THREE.DirectionalLight( 0xffffff, 0.75 );
            directionalLight.position.set(2, 2, 1);

            const light = new THREE.AmbientLight( 0x404040 ); // soft white light
            scene.add( light );

            scene.add( directionalLight );


			camera.position.z = 5;

            var stats = new Stats();
            stats.showPanel( 1 ); // 0: fps, 1: ms, 2: mb, 3+: custom
            document.body.appendChild( stats.dom );


            renderer.setAnimationLoop( function()
            {
                stats.begin();
                renderer.render( scene, camera );
                stats.end();
            });

// 			const animate = function () {
// 				requestAnimationFrame( animate );

// //				cube.rotation.x += 0.01;
// //				cube.rotation.y += 0.01;

// 				renderer.render( scene, camera );
// 			};

//			animate();


        </script>


	</body>
</html>
